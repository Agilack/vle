<?xml version="1.0" ?>
<!DOCTYPE vle_project SYSTEM "http://vle.univ-littoral.fr/vle-0.5.0.dtd">
<vle_project version="0.5" author="Gauthier Quesnel">
 <structures>
  <model name="top" type="coupled">
   <submodels>
    <model name="top1" type="coupled">
     <in>
      <port name="in" />
     </in>
     <out>
      <port name="out" />
     </out>
     <submodels>
      <model name="x" type="atomic" dynamics="unittest" observables="obs1" >
       <in>
        <port name="in" />
       </in>
       <out>
        <port name="out" />
       </out>
      </model>
      <model name="a" type="atomic" dynamics="unittest" observables="obs2" >
       <in>
        <port name="in" />
       </in>
      </model>
      <model name="b" type="atomic" dynamics="unittest" observables="obs2" >
       <in>
        <port name="in" />
       </in>
      </model>
      <model name="c" type="atomic" dynamics="unittest" observables="obs2" >
       <in>
        <port name="in1" />
        <port name="in2" />
       </in>
      </model>
     </submodels>
     <connections>
      <connection type="input">
       <origin model="top1" port="in" />
       <destination model="x" port="in" />
      </connection>
      <connection type="internal">
       <origin model="x" port="out" />
       <destination model="x" port="in" />
      </connection>
      <connection type="internal">
       <origin model="x" port="out" />
       <destination model="a" port="in" />
      </connection>
      <connection type="internal">
       <origin model="x" port="out" />
       <destination model="b" port="in" />
      </connection>
      <connection type="internal">
       <origin model="x" port="out" />
       <destination model="c" port="in1" />
      </connection>
      <connection type="internal">
       <origin model="x" port="out" />
       <destination model="c" port="in2" />
      </connection>
      <connection type="output">
       <origin model="x" port="out" />
       <destination model="top1" port="out" />
      </connection>
     </connections>
    </model>
    <model name="top2" type="coupled">
     <in>
      <port name="in" />
     </in>
     <out>
      <port name="out" />
     </out>
     <submodels>
      <model name="f" type="atomic" dynamics="unittest" >
       <in>
        <port name="in" />
       </in>
      </model>
      <model name="g" type="atomic" dynamics="unittest" > 
       <in>
        <port name="in" />
       </in>
      </model>
     </submodels>
     <connections>
      <connection type="input">
       <origin model="top2" port="in" />
       <destination model="f" port="in" />
      </connection>
      <connection type="input">
       <origin model="top2" port="in" />
       <destination model="g" port="in" />
      </connection>
     </connections>
    </model>
    <model name="d" type="atomic" conditions="cd" dynamics="unittest" >
     <in>
      <port name="in" />
     </in>
    </model>
    <model name="e" type="atomic" dynamics="unittest" >
     <in>
      <port name="in1" />
      <port name="in2" />
     </in>
    </model>
   </submodels>
   <connections>
    <connection type="internal">
     <origin model="top1" port="out" />
     <destination model="d" port="in" />
    </connection>
    <connection type="internal">
     <origin model="top1" port="out" />
     <destination model="e" port="in1" />
    </connection>
    <connection type="internal">
     <origin model="top1" port="out" />
     <destination model="e" port="in2" />
    </connection>
    <connection type="internal">
     <origin model="top1" port="out" />
     <destination model="top2" port="in" />
    </connection>
    <connection type="internal">
     <origin model="top2" port="out" />
     <destination model="top1" port="in" />
    </connection>
   </connections>
  </model>
 </structures>
 <dynamics>
  <dynamic name="unittest" library="unittest" model="transform" />
 </dynamics>
 <experiment name="graphtester" duration="100.0" seed="123">
  <conditions>
   <condition name="ca">
    <port name="x"><double>1.2</double></port>
   </condition>
   <condition name="cb">
    <port name="x"><double>1.2</double></port>
   </condition>
   <condition name="cc">
    <port name="x"><double>1.2</double></port>
   </condition>
   <condition name="cd">
    <port name="x"><double>1.2</double></port>
   </condition>
  </conditions>
  <views>
   <outputs>
    <output name="o" format="local" plugin="storage" />
    <output name="o2" format="local" plugin="storage" />
   </outputs>
   <observables>
    <observable name="obs1">
     <port name="c">
      <attachedview name="view1" />
     </port>
    </observable>
    <observable name="obs2">
     <port name="nbmodel">
      <attachedview name="view1" />
     </port>
     <port name="structure">
      <attachedview name="view2" />
     </port>
    </observable>
   </observables>
   <view name="view1" type="timed" timestep="1" output="o" />
   <view name="view2" type="timed" timestep="1" output="o2" />
  </views>
 </experiment>
</vle_project>
