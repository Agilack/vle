PROJECT(VLE CXX C)

SET(VLE_PACKAGE_VERSION_MAJOR 0)
SET(VLE_PACKAGE_VERSION_MINOR 5)
SET(VLE_PACKAGE_VERSION_PATCH 0)
SET(VLE_RESOURCE_FILE_LICENCE "${CMAKE_SOURCE_DIR}/COPYING")
SET(VLE_RESOURCE_FILE_README "${CMAKE_SOURCE_DIR}/README")
SET(VLE_PACKAGE_VENDOR "quesnel@users.sourceforge.net")
SET(VLE_PACKAGE_VERSION "${VLE_PACKAGE_VERSION_MAJOR}.${VLE_PACKAGE_VERSION_MINOR}.${VLE_PACKAGE_VERSION_PATCH}")
SET(VLE_PACKAGE_NAME "vle")

SET(VLE_INSTALL_PREFIX "${CMAKE_INSTALL_PREFIX}")
SET(VLE_LIBRARY_DIRS "${CMAKE_INSTALL_PREFIX}/lib/${VLE_PACKAGE_NAME}-${VLE_PACKAGE_VERSION}")
SET(VLE_LIBRARY_DIR "${CMAKE_INSTALL_PREFIX}/lib")
SET(VLE_INCLUDE_DIRS "${CMAKE_INSTALL_PREFIX}/include/${VLE_PACKAGE_NAME}-${VLE_PACKAGE_VERSION}/vle")
SET(VLE_INCLUDE_DIR "${CMAKE_INSTALL_PREFIX}/include/${VLE_PACKAGE_NAME}-${VLE_PACKAGE_VERSION}")
SET(VLE_BIN_DIR "${CMAKE_INSTALL_PREFIX}/bin")
SET(VLE_MANPAGE_PATH "${CMAKE_INSTALL_PREFIX}/share/man/man1")
SET(VLE_SHARE_DIRS
    "${CMAKE_MODULE_PATH}/share/${VLE_PACKAGE_NAME}-${VLE_PACKAGE_VERSION}")

SET(CMAKE_MODULE_PATH ${CMAKE_SOURCE_DIR}/cmake)
FIND_PACKAGE(PkgConfig)
INCLUDE(CheckIncludeFileCXX)
INCLUDE(CheckIncludeFile)
INCLUDE(CheckLibraryExists)
INCLUDE(CMakeDetermineCCompiler)
INCLUDE(CPack)

PKG_CHECK_MODULES(GLIBMM glibmm-2.4)
PKG_CHECK_MODULES(GTHREAD gthread-2.0)
PKG_CHECK_MODULES(LIBXMLPP libxml++-2.6)

OPTION(WITH_SQLXX "with libsqlxx for the odbc driver [default: on]" ON)
IF (WITH_SQLXX)
	CHECK_INCLUDE_FILE_CXX(sqlxx.h HAVE_SQLXX)
	SET(LIBSQLXX "-lsqlxx")
ENDIF (WITH_SQLXX)

ADD_SUBDIRECTORY(src)
